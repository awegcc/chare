storage_1  | {"timestamp":"2018-08-20T18:25:02.293Z","level":"debug","message":"REQUEST: GET /buckets/8c92c7e28a1d3ded07cc1bf0/files/dd27598f24108927437388c6/head?_id=66096f3f-eb1e-4df5-ba04-713c524704bd {\"host\":\"localhost:8100\",\"authorization\":\"Basic ZGF3dGVyQHFxLmNvbTo1ZTg4NDg5OGRhMjgwNDcxNTFkMGU1NmY4ZGM2MjkyNzczNjAzZDBkNmFhYmJkZDYyYTExZWY3MjFkMTU0MmQ4\",\"accept\":\"application/json\",\"x-forwarded-for\":\"192.168.56.102\",\"x-forwarded-host\":\"192.168.56.102:8080\",\"x-forwarded-server\":\"ip-184-168-221-104.ip.secureserver.net\",\"connection\":\"Keep-Alive\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.302Z","level":"info","message":"head file dd27598f24108927437388c6"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.304Z","level":"warn","message":"error on request GET /buckets/8c92c7e28a1d3ded07cc1bf0/files/dd27598f24108927437388c6/head?_id=66096f3f-eb1e-4df5-ba04-713c524704bd: File not found (Error: File not found\n    at File.getByBucket (/myshare/server/lib/storage-svc/routes/buckets.js:752:21)\n    at /myshare/server/node_modules/mongoose/lib/model.js:4486:16\n    at (anonymous function).call (/myshare/server/node_modules/mongoose/lib/query.js:3632:7)\n    at model.Query.Query._completeOne (/myshare/server/node_modules/mongoose/lib/query.js:1810:12)\n    at Immediate.Query.base.findOne.call (/myshare/server/node_modules/mongoose/lib/query.js:1870:10)\n    at Immediate.<anonymous> (/myshare/server/node_modules/mquery/lib/utils.js:117:16)\n    at runCallback (timers.js:810:20)\n    at tryOnImmediate (timers.js:768:5)\n    at processImmediate [as _immediateCallback] (timers.js:745:5))"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.304Z","level":"debug","message":"RESPONSE: GET /buckets/8c92c7e28a1d3ded07cc1bf0/files/dd27598f24108927437388c6/head?_id=66096f3f-eb1e-4df5-ba04-713c524704bd 404 {\"vary\":\"Origin\",\"access-control-allow-credentials\":\"true\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"26\",\"etag\":\"W/\\\"1a-qXGfN9t+AtsqoUJSBpc9ym+XpDk\\\"\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.313Z","level":"debug","message":"REQUEST: POST /layers {\"host\":\"localhost:8100\",\"authorization\":\"Basic ZGF3dGVyQHFxLmNvbTo1ZTg4NDg5OGRhMjgwNDcxNTFkMGU1NmY4ZGM2MjkyNzczNjAzZDBkNmFhYmJkZDYyYTExZWY3MjFkMTU0MmQ4\",\"accept\":\"application/json\",\"content-type\":\"application/json\",\"x-forwarded-for\":\"192.168.56.102\",\"x-forwarded-host\":\"192.168.56.102:8080\",\"x-forwarded-server\":\"ip-184-168-221-104.ip.secureserver.net\",\"connection\":\"Keep-Alive\",\"content-length\":\"46\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.355Z","level":"info","message":"create new layer for user dawter@qq.com"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.358Z","level":"debug","message":"RESPONSE: POST /layers 201 {\"vary\":\"Origin\",\"access-control-allow-credentials\":\"true\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"170\",\"etag\":\"W/\\\"aa-IccsTlGLLzXytaCg/L1IxGenBr8\\\"\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.876Z","level":"debug","message":"REQUEST: POST /layers/5b7b077e96652e00078f663b/blocks {\"host\":\"localhost:8100\",\"authorization\":\"Basic ZGF3dGVyQHFxLmNvbTo1ZTg4NDg5OGRhMjgwNDcxNTFkMGU1NmY4ZGM2MjkyNzczNjAzZDBkNmFhYmJkZDYyYTExZWY3MjFkMTU0MmQ4\",\"accept\":\"application/json\",\"content-type\":\"application/json\",\"x-forwarded-for\":\"192.168.56.102\",\"x-forwarded-host\":\"192.168.56.102:8080\",\"x-forwarded-server\":\"ip-184-168-221-104.ip.secureserver.net\",\"connection\":\"Keep-Alive\",\"content-length\":\"1653\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.881Z","level":"info","message":"add block (hash: e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca) to layer (5b7b077e96652e00078f663b) for user dawter@qq.com"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.882Z","level":"debug","message":"creating a new lblock for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:02.884Z","level":"debug","message":"Successfully created lblock for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca!"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.884Z","level":"debug","message":"selecting miners for block e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca with bl  []"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.887Z","level":"debug","message":"Getting contract for block e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca at [ '17de68daecd823babbb58edb1c8e14d7106e83bb',\n  '57de68daecd823babbb58edb1c8e14d7106e83bb',\n  '27de68daecd823babbb58edb1c8e14d7106e83bb',\n  '67de68daecd823babbb58edb1c8e14d7106e83bb',\n  '77de68daecd823babbb58edb1c8e14d7106e83bb',\n  '47de68daecd823babbb58edb1c8e14d7106e83bb',\n  '37de68daecd823babbb58edb1c8e14d7106e83bb' ]"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.896Z","level":"debug","message":"REQUEST: POST /layers/5b7b077e96652e00078f663b/blocks {\"host\":\"localhost:8100\",\"authorization\":\"Basic ZGF3dGVyQHFxLmNvbTo1ZTg4NDg5OGRhMjgwNDcxNTFkMGU1NmY4ZGM2MjkyNzczNjAzZDBkNmFhYmJkZDYyYTExZWY3MjFkMTU0MmQ4\",\"accept\":\"application/json\",\"content-type\":\"application/json\",\"x-forwarded-for\":\"192.168.56.102\",\"x-forwarded-host\":\"192.168.56.102:8080\",\"x-forwarded-server\":\"ip-184-168-221-104.ip.secureserver.net\",\"connection\":\"Keep-Alive\",\"content-length\":\"1650\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.901Z","level":"info","message":"add block (hash: f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881) to layer (5b7b077e96652e00078f663b) for user dawter@qq.com"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.901Z","level":"debug","message":"creating a new lblock for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:02.905Z","level":"debug","message":"Successfully created lblock for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881!"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.905Z","level":"debug","message":"selecting miners for block f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 with bl  []"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.908Z","level":"debug","message":"Getting contract for block f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 at [ '17de68daecd823babbb58edb1c8e14d7106e83bb',\n  '57de68daecd823babbb58edb1c8e14d7106e83bb',\n  '27de68daecd823babbb58edb1c8e14d7106e83bb',\n  '67de68daecd823babbb58edb1c8e14d7106e83bb',\n  '77de68daecd823babbb58edb1c8e14d7106e83bb',\n  '47de68daecd823babbb58edb1c8e14d7106e83bb',\n  '37de68daecd823babbb58edb1c8e14d7106e83bb' ]"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.999Z","level":"debug","message":"Successfully got (new) contract for block f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881!"}
storage_1  | {"timestamp":"2018-08-20T18:25:02.999Z","level":"debug","message":"updating layer with new lblock for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.012Z","level":"debug","message":"Successfully got (new) contract for block e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca!"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.012Z","level":"debug","message":"updating layer with new lblock for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.016Z","level":"debug","message":"Successfully updated layer with lblock for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881! resize"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.017Z","level":"debug","message":"adding signatures for new contracts for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.017Z","level":"debug","message":"adding PoAD for new lblock for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.018Z","level":"debug","message":"RESPONSE: POST /layers/5b7b077e96652e00078f663b/blocks 201 {\"vary\":\"Origin\",\"access-control-allow-credentials\":\"true\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"558\",\"etag\":\"W/\\\"22e-Y5glAW40GB5xMB3eUBy68k/Q3yw\\\"\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.022Z","level":"debug","message":"added PoAD task for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 at 67de68daecd823babbb58edb1c8e14d7106e83bb"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.075Z","level":"debug","message":"added signatures for new contracts for f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881 ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.076Z","level":"debug","message":"Successfully updated layer with lblock for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca! resize"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.077Z","level":"debug","message":"adding signatures for new contracts for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.077Z","level":"debug","message":"adding PoAD for new lblock for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.078Z","level":"debug","message":"RESPONSE: POST /layers/5b7b077e96652e00078f663b/blocks 201 {\"vary\":\"Origin\",\"access-control-allow-credentials\":\"true\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"558\",\"etag\":\"W/\\\"22e-UdB0UgN6SczC3ZpfmK7wpxQhjp0\\\"\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.084Z","level":"debug","message":"added PoAD task for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca at 17de68daecd823babbb58edb1c8e14d7106e83bb"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.086Z","level":"debug","message":"added signatures for new contracts for e0fda5ca0c55095d66c39aaa417944811c8a5a03d40904aba828faec71899bca ..."}
storage_1  | {"timestamp":"2018-08-20T18:25:03.112Z","level":"debug","message":"REQUEST: POST /buckets/8c92c7e28a1d3ded07cc1bf0/files {\"host\":\"localhost:8100\",\"authorization\":\"Basic ZGF3dGVyQHFxLmNvbTo1ZTg4NDg5OGRhMjgwNDcxNTFkMGU1NmY4ZGM2MjkyNzczNjAzZDBkNmFhYmJkZDYyYTExZWY3MjFkMTU0MmQ4\",\"accept\":\"application/json\",\"content-type\":\"application/json\",\"x-forwarded-for\":\"192.168.56.102\",\"x-forwarded-host\":\"192.168.56.102:8080\",\"x-forwarded-server\":\"ip-184-168-221-104.ip.secureserver.net\",\"connection\":\"Keep-Alive\",\"content-length\":\"338\"}"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.120Z","level":"info","message":"creating (W) file triage with layer 5b7b077e96652e00078f663b"}
storage_1  | SetContractStatus { hash: 'f373e3e40209dacc5b988c9a8b4be585ae40d35d8dc787ab1272f55aabe7c881',
storage_1  |   miner: '67de68daecd823babbb58edb1c8e14d7106e83bb' }
storage_1  | {"timestamp":"2018-08-20T18:25:03.136Z","level":"info","message":"created file triage with layer 5b7b077e96652e00078f663b"}
storage_1  | {"timestamp":"2018-08-20T18:25:03.137Z","level":"debug","message":"RESPONSE: POST /buckets/8c92c7e28a1d3ded07cc1bf0/files 200 {\"vary\":\"Origin\",\"access-control-allow-credentials\":\"true\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"298\",\"etag\":\"W/\\\"12a-TASvzY2HQ/UNrkG1AO1tZJEc4Dk\\\"\"}"}

